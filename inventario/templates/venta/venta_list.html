{% extends 'base.html' %}
{% block title %}Ventas{% endblock %}
{% block header %}<i class="fas fa-receipt"></i> Listado de Ventas{% endblock %}

{% block extra_buttons %}
<a href="{% url 'ventas:venta_create' %}" class="btn btn-vinoteca">
  <i class="fas fa-plus-circle"></i> Nueva Venta
</a>
{% endblock %}

{% block content %}
<div class="table-responsive">
  <table class="table table-bordered table-hover" style="background-color:#fff;">
    <thead style="background-color:#4B1E1E; color:#F8F6F3;">
      <tr>
        <th>CÃ³digo</th>
        <th>Cliente</th>
        <th>Fecha</th>
        <th>Total</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      {% for venta in ventas %}
      <tr>
        <td>{{ venta.codigo }}</td>
        <td>{{ venta.cliente }}</td>
        <td>{{ venta.fecha|date:"d/m/Y" }}</td>
        <td>
          <span class="badge" style="background-color:#C9A66B; color:#2C2C2C;">
            ${{ venta.total }}
          </span>
        </td>
        <td>
          <a href="{% url 'ventas:venta_detail' venta.pk %}" class="btn btn-sm btn-outline-info" title="Ver detalle">
            <i class="fas fa-search"></i>
          </a>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="5" class="text-center">
          <div class="alert alert-info mb-0">
            <i class="fas fa-info-circle"></i> No hay ventas registradas.
          </div>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
